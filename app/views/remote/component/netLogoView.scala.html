@(isTortoise: Boolean)(content: Html)

@views.html.core.component.mainTheme {

  <script type="text/javascript">
    var module = {}
  </script>
  <script src="@controllers.remote.routes.Remote.agentModel"></script>
  <script type="text/javascript">
    var AgentModel = module.exports;
  </script>
  <script type="text/javascript" src='@routes.Assets.at("javascripts/TortoiseJS/agent/colors.js")'></script>
  <script type="text/javascript" src='@routes.Assets.at("javascripts/TortoiseJS/agent/drawshape.js")'></script>
  <script type="text/javascript" src='@routes.Assets.at("javascripts/TortoiseJS/agent/defaultshapes.js")'></script>
  <script type="text/javascript" src='@routes.Assets.at("javascripts/TortoiseJS/agent/view.js")'></script>
  <script type="text/javascript" src='@routes.Assets.at("javascripts/TortoiseJS/communication/connection.js")'></script>
  <script type="text/javascript" src='@routes.Assets.at("javascripts/TortoiseJS/control/tortoise.js")'></script>
  <link rel="stylesheet" href='@routes.Assets.at("lib/chosen/chosen.css")' />
  <script type="text/javascript" src='@routes.Assets.at("lib/chosen/chosen.jquery.js")'></script>

  <td width="38%">
    <div class="model-list @{if (isTortoise) "tortoise-model-list" else ""}">
    </div>
    <pre class="netlogo-model hor_centered inner_box rounded background_backgrounded">
    </pre>
  </td>

  @content

  <script type="text/javascript" src='@routes.Assets.at("javascripts/models.js")'></script>
  <script type="text/javascript">
    var containers = {
      code_container: '.netlogo-code',
      info_container: '.netlogo-model-info',
      view_container: '.netlogo-model'
    };
    var session = tortoise(containers, exports.ChatGlobals.socketURL);
    exports.initChat(session);
    var modelList = $('.model-list');
    exports.modelList(modelList);
  </script>

}
